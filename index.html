<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Run Club Tracker</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Run Club Tracker</h1>
            <p>Track your run club participation by analyzing your Strava activities</p>
        </header>

        <!-- Login Section -->
        <div id="loginSection" class="section">
            <h2>Connect with Strava</h2>
            <p>To get started, connect your Strava account to analyze your running activities.</p>
            <button id="connectBtn" class="btn btn-primary">Connect with Strava</button>
        </div>

        <!-- Configuration Section -->
        <div id="configSection" class="section hidden">
            <h2>Run Club Configuration</h2>
            <p>Enter your run club's meeting location to filter activities:</p>

            <form id="configForm">
                <div class="form-group">
                    <label for="latitude">Latitude:</label>
                    <input type="number" id="latitude" step="0.000001" placeholder="e.g., 51.5074" required>
                </div>

                <div class="form-group">
                    <label for="longitude">Longitude:</label>
                    <input type="number" id="longitude" step="0.000001" placeholder="e.g., -0.1278" required>
                </div>

                <div class="form-group">
                    <label for="radius">Search Radius (km):</label>
                    <input type="number" id="radius" step="0.1" value="0.5" min="0.1" required>
                    <small>Activities within this distance from the coordinates will be counted</small>
                </div>

                <button type="submit" class="btn btn-primary">Analyze Activities</button>
                <button type="button" id="logoutBtn" class="btn btn-secondary">Disconnect</button>
            </form>
        </div>

        <!-- Loading Section -->
        <div id="loadingSection" class="section hidden">
            <div class="loading-spinner"></div>
            <p>Fetching and analyzing your Strava activities...</p>
        </div>

        <!-- Results Section -->
        <div id="resultsSection" class="section hidden">
            <h2>Your Run Club Stats</h2>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="totalRunClubRuns">0</div>
                    <div class="stat-label">Run Club Runs</div>
                </div>

                <div class="stat-card">
                    <div class="stat-value" id="totalDistance">0 km</div>
                    <div class="stat-label">Total Distance</div>
                </div>

                <div class="stat-card">
                    <div class="stat-value" id="avgDistance">0 km</div>
                    <div class="stat-label">Avg Distance</div>
                </div>

                <div class="stat-card">
                    <div class="stat-value" id="totalTime">0:00</div>
                    <div class="stat-label">Total Time</div>
                </div>
            </div>

            <!-- Activities List -->
            <div class="activities-section">
                <h3>Recent Run Club Activities</h3>
                <div id="activitiesList" class="activities-list"></div>
            </div>

            <button id="analyzeAgainBtn" class="btn btn-secondary">Analyze Again</button>
        </div>

        <!-- Error Section -->
        <div id="errorSection" class="section hidden">
            <div class="error-message">
                <h3>Error</h3>
                <p id="errorText"></p>
            </div>
            <button id="retryBtn" class="btn btn-primary">Try Again</button>
        </div>
    </div>

    <footer>
        <p>Powered by Strava API | <a href="https://github.com/jonwtech/run-club-tracker">View on GitHub</a></p>
    </footer>

    <script src="config.js"></script>
    <script src="app.js"></script>
</body>
</html>
